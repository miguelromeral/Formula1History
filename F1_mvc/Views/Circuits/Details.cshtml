@using F1_mvc.Models.GUI
@using F1_mvc.Models
@model CircuitModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="text-center">
    <h1>
        <img src="~/images/streamline-icon-maps-pin@24x24.png" width="30" height="30" class="d-inline-block align-top" alt="" />
        @Model.Circuit.name
    </h1>
</div>


<div class="container">
    <div class="col-lg-6">

        <table class="table table-hover">
            <tr>
                <td>@Html.DisplayNameFor(model => model.Circuit.name)</td>
                <td>
                    <a href="@Model.Circuit.url">@Model.Circuit.name</a>
                </td>
            </tr>
            <tr>
                <td>@Html.DisplayNameFor(model => model.Circuit.location)</td>
                <td>@Model.Circuit.location</td>
            </tr>
            <tr>
                <td>@Html.DisplayNameFor(model => model.Circuit.country)</td>
                <td>@Model.Circuit.country</td>
            </tr>
            <tr>
                <td>@Html.DisplayNameFor(model => model.Circuit.lat)</td>
                <td>@Model.Circuit.lat</td>
            </tr>
            <tr>
                <td>@Html.DisplayNameFor(model => model.Circuit.lng)</td>
                <td>@Model.Circuit.lng</td>
            </tr>
            <tr>
                <td>@Html.DisplayNameFor(model => model.TrackRecord)</td>
                <td>@Model.TrackRecord.time</td>
            </tr>

        </table>

    </div>
    <div class="col-lg-6">
        <div id="map_canvas" style="width: 100%; height: 500px; margin-bottom: 2px;">

        </div>
    </div>
</div>

@section googlemaps {

    @Scripts.Render("~/Scripts/jquery-3.3.1.min.js")
    @Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.min.js")
    @Scripts.Render("~/bundles/jqueryval")

    <style>
        #map_canvas img {
            max-width: none
        }
    </style>

    <script type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=AIzaSyAnlgvUO2FWUyAyoMhBHJt5sZy7CGAxOtA"></script>
    <script src="~/Scripts/googlemaps.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {

            var lat = @Model.Circuit.lat.ToString().Replace(',', '.');
            var lng = @Model.Circuit.lng.ToString().Replace(',', '.');

            Initialize(lat, lng);
        });

    </script>

}
