@using F1_mvc.Models
@using F1_mvc.Classes
@using F1_mvc.Models.GUI
@model SingleSeasonModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="text-center">
    <h1><img src="~/images/streamline-icon-calendar-3@24x24.png" class="d-inline-block" /> @Model.Season.year</h1>
</div>


<div class="container">
    <div class="col-lg-6 row">

        <table class="table table-hover">
            <tr>
                <td>@Html.DisplayNameFor(model => model.Season.year)</td>
                <td>
                    <a href="@Model.Season.url">@Model.Season.year</a>
                </td>
            </tr>
            <tr>
                <td>@Html.DisplayNameFor(model => model.DriverChampion)</td>
                <td>@Utilities.Fullname(Model.DriverChampion)</td>
            </tr>
        </table>


    </div>
    <div class="col-lg-6" align="center">

        <div id="detailsPanel" width="100%" height="400">

            <div id="loading" style="display:none;position:absolute;top:50%;left:50%;padding:2px;">
                <img src="~/images/219.svg" />
            </div>

            <h2 id="detailsTitle"></h2>

            <div id="details">
            </div>

        </div>

    </div>


</div>


@section scripts{

    <script src="~/Scripts/jquery.unobtrusive-ajax.min.js"></script>
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

    @Scripts.Render("~/Scripts/jquery-3.3.1.min.js")
    @Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.min.js")
    @Scripts.Render("~/bundles/jqueryval")


    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>


    <script type="text/javascript">

        function clearDetails() {
            $("#details").empty();
            $("#detailsTitle").empty();
        }

        function afterLoadDetails(title) {
            $('#tableRaces').DataTable({
                "pagingType": "simple",
                "order": [[3, "asc"]]
            });

            $("#detailsTitle").html(title);
        }
    </script>




}